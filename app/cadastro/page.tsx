'use client'; import { supabase } from '@/lib/supabase'; import { useState } from 'react'; export default function Cadastro(){const [full_name,setName]=useState(''); const [phone,setPhone]=useState(''); const [ok,setOk]=useState(false); async function submit(e:any){e.preventDefault(); await supabase.from('patients').insert({full_name,phone,consent_version:'v1',consent_accepted_at:new Date().toISOString()}); setOk(true);} if(ok) return <main className="max-w-md mx-auto p-6">Cadastro recebido! Entraremos em contato via WhatsApp.</main>; return(<main className="max-w-md mx-auto p-6"><h1 className="text-xl font-semibold mb-3">Autocadastro</h1><form onSubmit={submit} className="space-y-3"><input className="w-full border p-2 rounded" placeholder="Nome completo" value={full_name} onChange={e=>setName(e.target.value)} /><input className="w-full border p-2 rounded" placeholder="Telefone (WhatsApp)" value={phone} onChange={e=>setPhone(e.target.value)} /><label className="text-sm"><input type="checkbox" required className="mr-2"/> Concordo com a pol√≠tica de privacidade.</label><button className="w-full bg-blue-600 text-white py-2 rounded">Enviar</button></form></main>);}