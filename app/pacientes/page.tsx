'use client'; import { supabase } from '@/lib/supabase'; import { useEffect, useState } from 'react'; export default function Pacientes(){const [items,setItems]=useState<any[]>([]); const [nome,setNome]=useState(''); const [phone,setPhone]=useState(''); async function load(){const {data}=await supabase.from('patients').select('*').order('created_at',{ascending:false}).limit(50);setItems(data||[]);} useEffect(()=>{load();},[]); async function add(e:any){e.preventDefault();await supabase.from('patients').insert({full_name:nome,phone});setNome('');setPhone('');load();} return(<main className="max-w-4xl mx-auto p-6 space-y-4"><h1 className="text-xl font-semibold">Pacientes</h1><form onSubmit={add} className="flex gap-2"><input className="border p-2 rounded flex-1" placeholder="Nome" value={nome} onChange={e=>setNome(e.target.value)} /><input className="border p-2 rounded" placeholder="Telefone" value={phone} onChange={e=>setPhone(e.target.value)} /><button className="bg-blue-600 text-white px-4 rounded">Adicionar</button></form><table className="w-full text-sm"><thead><tr><th className="text-left p-2">Nome</th><th className="text-left p-2">Telefone</th><th className="text-left p-2">Criado</th></tr></thead><tbody>{items.map(p=>(<tr key={p.id} className="border-t"><td className="p-2">{p.full_name}</td><td className="p-2">{p.phone}</td><td className="p-2">{new Date(p.created_at).toLocaleString()}</td></tr>))}</tbody></table></main>);}